<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0' name='viewport' />
  <title>Drive Player</title>
  <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
  <link rel="icon" href="/assets/img/logo.png" />
  <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'
    type='text/css' />
  <meta name="description"
    content="Google Drive Proxy Video Player with Many Powerful HTML5 Players Hidden ID and Many Features ðŸš€" />
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js'></script>
</head>

<body>
  <div class="subscribe-box">
    <h2>Drive Player</h2>
    <div class="subscribe">
      <input type="text" placeholder="Enter Your Drive Video Link*" autocomplete="on" id="videourl"
        required="required" />
      <input type="text" placeholder="Poster URL (optional)" autocomplete="on" id="posterurl" />
      <input type="text" placeholder="Video Title (optional)" autocomplete="on" id="videotitle" />
      <!-- ads -->
      <div class="ads-banner">







      </div>
      <!-- ads end -->
      <button onclick="get()">
        <span>GET VIDEO</span>
      </button>
      <button onclick="openfluid()">
        <a href="#">
          <span>OPEN VIDEO</span>
        </a>
      </button>
    </div>
  </div>
  <div class="container">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Open Video</h4>
        <a href="#" onclick="openfluid()" class="card-link">Open</a>
      </div>
    </div>
  </div>
  <footer>
    <p class="fw-bold">
      <a href='/plyr.html'>Plyr</a> &#8226; <a href='/afterglow.html'>Afterglow</a> &#8226; <a
        href='/fluid.html'>Fluid</a> &#8226; <a href='/mediaelements.html'>Media Elements</a> &#8226; <a
        href='/vlitejs.html'>vLiteJs</a> &#8226; <a href='/gdrive.html'>GDrive</a>
    </p>
    Copyright @<script type='text/javascript'>
      var creditsyear = new Date();
      document.write(creditsyear.getFullYear());
    </script>
    <script>
      function getparam(a, e) {
        return e || (e = window.location.href), new URL(e).searchParams.get(a)
      }
      let s = a => document.getElementById(a);


      function getIdFromUrl(url) {
        return url.match(/[-\w]{25,}/);
      }
      let apikey = 'AIzaSyCHWUFpWNS0hedAsA1Rx1Yunp_CfrbWVvs';

      let get = () => {
        getbase();
      }
      let getbase = () => {
        let ply = [];
        /*
          ply.videourl = `https://www.googleapis.com/drive/v3/files/${getIdFromUrl(s('videourl').value) }?alt=media&key=${apikey}`;

        let poster = "";
            if(s('posterurl').value){
             poster = s('posterurl').value ;}
        else {
          poster = 'https://lh3.googleusercontent.com/d/'+getIdFromUrl(s('videourl').value);
        }
          ply.posterurl = poster ; 
          */

        ply.id = getIdFromUrl(s('videourl').value);

        // ply.videotitle = s('videotitle').value;
        console.log(ply);

        var arr = JSON.stringify(Object.assign({}, ply))
        console.log(btoa(arr));
        window.base = btoa(arr);
        iframe();
        return btoa(arr);
      }

      //Player Openers (diff. func. coding intentionally)
      let openfluid = () => {
        window.open('https://drive.indonesiya.com/video.html?id=' + base)
      }
    </script>
  </footer>
</body>

</html>